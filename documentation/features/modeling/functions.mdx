---
title: "Functions"
description: "A comprehensive guide to all available functions, helping you build powerful financial models."
icon: "function"
---

<iframe width="720" height="540" src="https://www.loom.com/embed/3613b2608f014b83ad74275e7ea84141?sid=e24ceaaa-db10-4318-9526-99eec09c894d" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen />

<Tip>
  To ensure your calculations work as expected, verify your [number format](/documentation/getting-started/account/preferences) settings in Francis. You'll use commas (US) or semicolons (EU) to separate function parameters based on your selection. For clarity, all examples in this guide use the US format with commas.
</Tip>

<AccordionGroup>
  <Accordion title="avg(&#x22;row_name&#x22;[range_start:range_end])" defaultOpen={false}>
    Use the `avg()` function when you need to calculate the average value across a specific time period. This function works with any time series from `range_start` to `range_end`.

    ```typescript
    // Example: Calculate the average revenue for the past 3 months
    avg("Revenue"[-3:0])
    ```
  </Accordion>

  <Accordion title="avg_ytd(&#x22;row_name&#x22;)" defaultOpen={false}>
    The `avg_ytd()` function helps you analyze year-to-date performance by calculating the average from the start of your fiscal year through the current month.

    ```typescript
    // Example: Calculate the year-to-date average revenue
    avg_ytd("Revenue")
    ```
  </Accordion>

  <Accordion title="avg_last_year(&#x22;row_name&#x22;)" defaultOpen={false}>
    Use `avg_last_year()` to analyze previous fiscal year performance. The function automatically aligns with your fiscal year settings to ensure accurate calculations.

    ```typescript
    // Example: Calculate last year's average revenue
    avg_last_year("Revenue")
    ```
  </Accordion>

  <Accordion title="avg_last(&#x22;row_name&#x22;,num_months)" defaultOpen={false}>
    When you need to analyze recent trends, use `avg_last()` to calculate the average over your specified number of months. Simply indicate how many months back you want to analyze using the `num_months` parameter.

    ```typescript
    // Example: Calculate average revenue for the past 6 months
    avg_last("Revenue",6)
    ```
  </Accordion>

  <Accordion title="median(&#x22;row_name&#x22;[range_start:range_end])" defaultOpen={false}>
    The `median()` function helps you identify the middle value in your data set, providing a robust measure of central tendency that's less sensitive to outliers than averages.

    ```typescript
    // Example: Find the median revenue for the past 3 months
    median("Revenue"[-3:0])
    ```
  </Accordion>

  <Accordion title="median_ytd(&#x22;row_name&#x22;)" defaultOpen={false}>
    Use `median_ytd()` to find the middle value of your year-to-date data, helping you understand typical performance levels while minimizing the impact of unusual months.

    ```typescript
    // Example: Calculate the year-to-date median revenue
    median_ytd("Revenue")
    ```
  </Accordion>

  <Accordion title="median_last_year(&#x22;row_name&#x22;)" defaultOpen={false}>
    Get insight into typical values from your previous fiscal year with `median_last_year()`. This function automatically aligns with your fiscal year settings for accurate historical analysis.

    ```typescript
    // Example: Find last year's median revenue
    median_last_year("Revenue")
    ```
  </Accordion>

  <Accordion title="median_last(&#x22;row_name&#x22;, num_months)" defaultOpen={false}>
    When you want to understand typical values over recent months, use `median_last()`. Simply specify how many months back you want to analyze using the `num_months` parameter.

    ```typescript
    // Example: Calculate median revenue for the past 6 months
    median_last("Revenue", 6)
    ```
  </Accordion>

  <Accordion title="sum(&#x22;row_name&#x22;[range_start:range_end])" defaultOpen={false}>
    Use the `sum()` function to calculate totals across any time period you specify, from `range_start` to `range_end`.

    ```typescript
    // Example: Calculate total revenue for the past 3 months
    sum("Revenue"[-3:0])
    ```
  </Accordion>

  <Accordion title="sum_ytd(&#x22;row_name&#x22;)" defaultOpen={false}>
    Track your year-to-date totals with `sum_ytd()`. This function adds up all values from the start of your fiscal year through the current month.

    ```typescript
    // Example: Calculate total year-to-date revenue
    sum_ytd("Revenue")
    ```
  </Accordion>

  <Accordion title="sum_last_year(&#x22;row_name&#x22;)" defaultOpen={false}>
    Compare current performance to historical data using `sum_last_year()`. This function automatically aligns with your fiscal year settings for accurate year-over-year analysis.

    ```typescript
    // Example: Calculate total revenue from last fiscal year
    sum_last_year("Revenue")
    ```
  </Accordion>

  <Accordion title="sum_last(&#x22;row_name&#x22;, num_month)" defaultOpen={false}>
    For rolling period analysis, use `sum_last()` to total up your specified number of recent months. Simply indicate how many months back you want to include.

    ```typescript
    // Example: Sum revenue for the past 6 months
    sum_last("Revenue", 6)
    ```
  </Accordion>

  <Accordion title="receivables(&#x22;row_name&#x22;, payment_days)" defaultOpen={false}>
    Calculate expected accounts receivable using the `receivables()` function. This function helps you estimate collections based on your standard payment terms, using a 30-day month convention. Note: The payment days value must be a fixed number.

    ```typescript
    // Example: Calculate receivables assuming 30-day payment terms
    receivables("Revenue", 30)
    ```
  </Accordion>

  <Accordion title="ignore_div_zero(a/b)" defaultOpen={false}>
    Prevent division-by-zero errors in your calculations with `ignore_div_zero()`. This function returns zero instead of an error when dividing by zero, making it particularly useful for margin and percentage calculations.

    ```typescript
    // Example: Calculate cost ratio while preventing errors
    ignore_div_zero("Direct cost"[0] / "Revenue"[0])
    ```
  </Accordion>

  <Accordion title="power(num, exponent)" defaultOpen={false}>
    Use the `power()` function for exponential calculations. This mathematical function raises your first number to the power of the second number.

    ```typescript
    // Example: Calculate 10 squared
    power(10,2)
    ```
  </Accordion>

  <Accordion title="min(a,b)" defaultOpen={false}>
    Find the smaller of two values using the `min()` function. This helps you identify lower bounds or minimum values in your data.

    ```typescript
    // Example: Find the lower revenue between current and previous month
    min("Revenue"[0],"Revenue"[-1])
    ```
  </Accordion>

  <Accordion title="max(a,b)" defaultOpen={false}>
    Identify the larger of two values with the `max()` function. This helps you find peak values or upper bounds in your data.

    ```typescript
    // Example: Find the higher revenue between current and previous month
    max("Revenue"[0],"Revenue"[-1])
    ```
  </Accordion>

  <Accordion title="abs(num)" defaultOpen={false}>
    Convert negative numbers to positive using the `abs()` function. This ensures you're working with the magnitude of a value, regardless of its sign.

    ```typescript
    // Example: Get the absolute value of direct costs
    abs("Direct costs"[0])
    ```
  </Accordion>

  <Accordion title="round(num, decimals)" defaultOpen={false}>
    Control decimal precision in your calculations using the `round()` function. Specify how many decimal places you want to retain for cleaner, more presentable numbers.

    ```typescript
    // Example: Round revenue to 2 decimal places
    round("Revenue"[0],2)
    ```
  </Accordion>

  <Accordion title="round_down(num)" defaultOpen={false}>
    Use `round_down()` when you need to ensure your numbers never round upward. This function always rounds toward zero.

    ```typescript
    // Example: Round revenue down to the nearest whole number
    round_down("Revenue"[0])
    ```
  </Accordion>

  <Accordion title="round_up(num)" defaultOpen={false}>
    When you need to ensure your numbers never round downward, use `round_up()`. This function always rounds away from zero.

    ```typescript
    // Example: Round revenue up to the nearest whole number
    round_up("Revenue"[0])
    ```
  </Accordion>

  <Accordion title="if(condition, value_if_true, value_if_false)" defaultOpen={false}>
    Create conditional logic in your calculations using the `if()` function. This works similarly to IF statements in Excel or Google Sheets, helping you handle different scenarios in your models.

    ```typescript
    // Example: Calculate margin safely by avoiding division by zero
    if("Revenue"[0]=0,0,"Gross profit"[0]/"Revenue"[0])
    ```

    This example ensures a clean zero display when revenue is zero, preventing division-by-zero errors in your margin calculations.
  </Accordion>

  <Accordion title="if_month(a,b)" defaultOpen={false}>
    Use `if_month()` to create month-specific calculations. This function returns `1` for specified months and `0` for all others, allowing you to build seasonal logic into your models.

    * For January only: `if_month(1)` returns `1` for January, `0` for other months
    * For January or June: `if_month(1,6)` returns `1` for January and June, `0` for other months
    * For multiple months: `if_month(1,6,12)` returns `1` for January, June, and December, `0` for other months
  </Accordion>

  <Accordion title="if_quarter_month(num)" defaultOpen={false}>
    Create quarterly patterns in your calculations using `if_quarter_month()`. This function helps you identify specific months within each quarter, returning `1` for matching months and `0` for others.

    * First month of each quarter: `if_quarter_month(1)` returns `1` for January, April, July, and October
    * Second month of each quarter: `if_quarter_month(2)` returns `1` for February, May, August, and November
    * Third month of each quarter: `if_quarter_month(3)` returns `1` for March, June, September, and December
  </Accordion>
</AccordionGroup>